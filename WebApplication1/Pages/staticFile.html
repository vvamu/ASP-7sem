<html>
<head>
    <title>Sum Page</title>
    <script>
        
    function doPost() {
        //const data = new URLSearchParams();

        var x = parseInt(document.getElementById('x').value);
        var y = parseInt(document.getElementById('y').value);

        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById('result').innerHTML = this.responseText;
            }
        };
        xhttp.open('POST', '/sum', true);

        xhttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
        xhttp.setRequestHeader('x', x);
        xhttp.setRequestHeader('y', y);

        xhttp.send('x=' + x + '&y=' + y);

        }
        
        /*
        function doPost() {
            var x = parseInt(document.getElementById('x').value);
            var y = parseInt(document.getElementById('y').value);

            const data = new URLSearchParams();
            data.append('x', x);
            data.append('y', y);

            fetch('/sum', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
                body: data
            })
                .then(response => response.text())
                .then(result => {
                    document.getElementById('result').innerHTML = result;
                })
                .catch(error => {
                    console.error('Error:', error);
                });

        }
        */

    </script>
</head>
<body>
    <form>
        <h1>XMLHttpRequest</h1>
        <label for='x'>X:</label>
        <input type='number' id='x'>

        <label for='y'>Y:</label>
        <input type='number' id='y'>

        <button type='button' onclick='doPost()'>Submit</button>

    </form>

    <form method="post">
        <!--action="/process-form"-->
        <h1>Form - post</h1>
        <label for='x'>X:</label>
        <input type='number' name='x' id='x'>

        <label for='y'>Y:</label>
        <input type='number' name='y' id='y'>

        <input type='submit' value='Submit'>
    </form>

    <!--

    <form method="get" action="/process-form">
        <h1>GET Form</h1>
        <label for='name'>Name:</label>
        <input type='text' name='name' id='name'>

        <label for='age'>Age:</label>
        <input type='number' name='age' id='age'>

        <input type='submit' value='Submit'>
    </form>
    -->

    <form method="get" action="/process-form">
        <h1>GET Form</h1>
        <label for='name'>Name:</label>
        <input type='text' name='name' id='name'>

        <label for='age'>Age:</label>
        <input type='number' name='age' id='age'>

        <input type='submit' value='Submit'>
    </form>

    <div id='result'></div>
</body>
</html>